(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{123:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),i=(a(97),a(98),a(22)),l=a(161),u=a(164),s=a(166),m=a(167),d=a(34),p=a(168),f=a(176),h=a(15),v={SET_UNITS:function(e){return{type:"SET_UNITS"}}},y=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:"20px"},button:{margin:"10px",fontSize:"20px"},active:{fontSize:"25px",fontWeight:"bold",textDecoration:"underline blue"}}}));function E(){var e=Object(h.b)(),t=y(),a=Object(n.useState)("C"),o=Object(i.a)(a,2),c=o[0],l=o[1],E=Object(n.useState)("/"===window.location.pathname?"HOME":"FAVORITES"),b=Object(i.a)(E,2),g=b[0],O=b[1],N=function(e){O(e.target.innerText)};return r.a.createElement(u.a,{className:t.root+" header"},r.a.createElement(s.a,{variant:"h6",className:t.title},"Weather App"),r.a.createElement("div",null,r.a.createElement(m.a,{onClick:N,className:"HOME"===g?t.active:""+t.button,color:"inherit",component:d.b,to:"/"},"Home"),r.a.createElement(m.a,{onClick:N,className:"FAVORITES"===g?t.active:""+t.button,color:"inherit",component:d.b,to:"favorites"},"Favorites")),r.a.createElement(f.a,{value:c,exclusive:!0,onChange:function(t,a){e(v.SET_UNITS()),l(a)},"aria-label":"text alignment"},r.a.createElement(p.a,{value:"C","aria-label":"left aligned",disabled:"C"===c},"\xb0C"),r.a.createElement(p.a,{value:"F","aria-label":"right aligned",disabled:"F"===c},"\xb0F")))}var b=a(169);var g=function(e){var t=e.iconNumber;return r.a.createElement("img",{src:"/icons/".concat(t,".png"),alt:"weather-icon"})},O={SET_LOCATION:function(e){return{type:"SET_LOCATION",payload:e}}},N=a(14),x=function(e){return 9*e/5+32},A=a(19),I=a.n(A),C=a(32),D=a(25),j=a.n(D),L=a(44),T=a.n(L),w="VYePKe3xM3Tn6qUQxpw8CQpuyWXgQsVC",z={getLocationKey:function(){var e=Object(C.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("http://dataservice.accuweather.com/locations/v1/cities/search?apikey="+w+"&q=".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data[0]);case 7:e.prev=7,e.t0=e.catch(0),j()("error on fetch location key");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getLocationWeather:function(){var e=Object(C.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/1day/"+t+"?apikey=".concat(w,"&metric=true"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),j()("error on fetch one day forcast");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getFiveDayForecast:function(){var e=Object(C.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/"+t+"?apikey=".concat(w,"&metric=true"));case 3:return a=e.sent,console.log("response",a),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),j()("error on fetch five day forcast");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),getLocationKeyFromGeo:function(){var e=Object(C.a)(I.a.mark((function e(t,a){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey="+w+"&q=".concat(t,",").concat(a));case 3:return n=e.sent,console.log("response",n),e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(0),j()("error on fetch key from geo");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},F=Object(l.a)((function(){return{size:{height:"200px",width:"200px",backgroundColor:"white",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"10px"},section:{marginBottom:"25px",fontSize:"1.5rem"}}})),k=function(e){var t=(parseInt(e.Maximum.Value)+parseInt(e.Minimum.Value))/2;return Math.round(100*(t+Number.EPSILON))/100};var S=function(e){var t=e.location,a=e.locationKey,o=e.isFahrenheit,c=Object(n.useState)(),l=Object(i.a)(c,2),u=l[0],s=l[1],m=Object(h.b)(),d=Object(N.f)();Object(n.useEffect)((function(){z.getLocationWeather(a).then((function(e){console.log("response in card",e),s(e)}))}),[a]);var p=F();return r.a.createElement(r.a.Fragment,null,u&&r.a.createElement(b.a,{className:p.size,onClick:function(){m(O.SET_LOCATION({locationKey:a,location:t})),d.push("/")}},r.a.createElement("div",{className:p.section},t),r.a.createElement("div",{className:p.section},r.a.createElement(g,{iconNumber:u&&u.DailyForecasts[0].Day.Icon})),r.a.createElement("div",null,u&&o?x(k(u.DailyForecasts[0].Temperature))+"\xb0F":k(u.DailyForecasts[0].Temperature)+"\xb0C")))},K=Object(l.a)((function(){return{container:{margin:"50px",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},subHeader:{display:"flex",justifyContent:"center",fontSize:"1.5rem"}}}));var R=function(){var e=K(),t=Object(h.c)((function(e){return e.favoritesReducer})),a=Object(h.c)((function(e){return e.tempReducer.Fahrenheit}));return console.log("favorites: ",t),r.a.createElement("div",null,r.a.createElement("div",{className:e.subHeader},"Click a city to go to a five day forecast"),r.a.createElement("div",{className:e.container},t.map((function(e,t){return r.a.createElement(S,{key:t,locationKey:e.locationKey,location:e.location,isFahrenheit:a})}))))},V=a(174),_=a(173),M=a(79),G=Object(l.a)((function(){return{root:{width:"100%",margin:"30px"},searchBar:{display:"flex",justifyContent:"center"},searchBox:{backgroundColor:"white",width:"400px"},button:{padding:"15px",marginLeft:"5px"}}}));function H(){var e=Object(h.b)(),t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(void 0),u=Object(i.a)(l,2),s=u[0],d=u[1],p=G();function f(){return(f=Object(C.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=M.a,n=[{locationKey:"",location:""}],a.map((function(e){return n.push({locationKey:e.Key,location:e.LocalizedName})})),c(n)}catch(t){j()("error on fetch location key")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:p.root},r.a.createElement("div",{className:p.searchBar},r.a.createElement(V.a,{className:p.searchBox+" search-bar",id:"city-search",onInputChange:function(e){return f.apply(this,arguments)},onChange:function(e){d(e.target.innerText)},noOptionsText:"No result",options:o,popupIcon:null,getOptionSelected:function(e){return e},getOptionLabel:function(e){return e.location},renderInput:function(e){return r.a.createElement(_.a,Object.assign({},e,{label:"City Search",variant:"outlined"}))}}),r.a.createElement(m.a,{variant:"contained",color:"primary",className:p.button,onClick:function(){void 0!==s&&e(O.SET_LOCATION(o.find((function(e){return e.location===s}))))}},"Search")))}var W=a(83),B=a.n(W),P=a(82),q=a.n(P),U=a(171),J=a(175),Q=a(53),X=(a(122),{ADD_FAVORITE:function(e){return{type:"ADD_FAVORITE",payload:e}},REMOVE_FAVORITE:function(e){return{type:"REMOVE_FAVORITE",payload:e}}}),Y=(a(123),Object(l.a)((function(){return{button:{height:"50px",width:"50px",margin:"10px",display:"flex",alignItems:"end",alignSelf:"auto"},icon:{width:"50px",height:"50px",color:"white"}}})));var Z=function(e){var t=e.locationKey,a=e.location,o=e.isFavorite,c=Object(h.b)(),i=Object(n.useRef)(null),l=Y();return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{size:"small",className:l.button+" fav",onClick:function(){c(o?X.REMOVE_FAVORITE({locationKey:t,location:a}):X.ADD_FAVORITE({locationKey:t,location:a})),o?Object(Q.b)("".concat(a," removed from favorites")):Object(Q.b)("".concat(a," added to favorites"))}},o?r.a.createElement(J.a,{nodeRef:i,classNames:"favorite-button",timeout:{enter:500,exit:300},in:o},r.a.createElement(q.a,{ref:i,className:l.icon})):r.a.createElement(J.a,{nodeRef:i,classNames:"favorite-button",timeout:{enter:500,exit:200},in:o},r.a.createElement(B.a,{ref:i,className:l.icon}))),r.a.createElement(Q.a,{position:"top-right",autoClose:2e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))},$=Object(l.a)((function(){return{size:{height:"200px",width:"100%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},section:{marginBottom:"25px",fontSize:"1.5rem"}}})),ee=function(e){var t=(parseInt(e.Maximum.Value)+parseInt(e.Minimum.Value))/2;return Math.round(100*(t+Number.EPSILON))/100};var te=function(e){var t=e.temp,a=e.date,n=e.iconNumber,o=e.isFahrenheit,c=$();return r.a.createElement(b.a,{square:!0,className:c.size},r.a.createElement("div",{className:c.section},function(e){return new Date(1e3*e).toLocaleDateString("en-us",{weekday:"long"})}(a)),r.a.createElement("div",{className:c.section},r.a.createElement(g,{iconNumber:n})),r.a.createElement("div",null,o?x(ee(t))+"\xb0F":ee(t)+"\xb0C"))},ae=Object(l.a)((function(){return{size:{height:"200px",width:"250px",fontSize:"150px"}}})),ne=function(e){var t=(parseInt(e.Maximum.Value)+parseInt(e.Minimum.Value))/2;return Math.round(100*(t+Number.EPSILON))/100};var re=function(e){var t=e.temp,a=e.isFahrenheit,n=ae();return r.a.createElement("div",{className:n.size+" forecast-temp"},a?x(ne(t))+"\xb0":ne(t)+"\xb0")},oe=Object(l.a)((function(){return{size:{height:"200px",width:"250px",fontSize:"37px",display:"flex",flexDirection:"column"}}}));function ce(e){var t=e.date,a=oe();return r.a.createElement("div",{className:a.size+" forecast-date"},r.a.createElement("div",null,function(e){return new Date(1e3*e).toLocaleDateString("en-us",{weekday:"long"})}(t)),r.a.createElement("div",null,function(e){var t=new Date(1e3*e);return t.getDate()+"/"+t.getMonth()+"/"+t.getFullYear()}(t)))}var ie=Object(l.a)((function(){return{size:{height:"200px",width:"250px",fontSize:"37px"}}}));function le(e){var t=e.location,a=ie();return r.a.createElement("div",{className:a.size+" location"},t)}var ue=Object(l.a)((function(){return{size:{height:"100px",minWidth:"100px",margin:"10px"},tempText:{fontSize:"50px"}}}));var se=function(e){var t=e.fiveDayData,a=e.current,n=e.isFahrenheit,o=ue(),c=Object(h.c)((function(e){return e.favoritesReducer}));return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:o.tempText+" icon"},t.DailyForecasts[0].Day.IconPhrase,r.a.createElement(g,{iconNumber:t.DailyForecasts[0].Day.Icon})),c.find((function(e){return e.location===a.location}))?r.a.createElement(Z,{locationKey:a.locationKey,location:a.location,isFavorite:!0}):r.a.createElement(Z,{locationKey:a.locationKey,location:a.location,isFavorite:!1}),r.a.createElement(ce,{date:t.DailyForecasts[0].EpochDate}),r.a.createElement(re,{temp:t.DailyForecasts[0].Temperature,isFahrenheit:n}),r.a.createElement(le,{location:a.location}),r.a.createElement("div",{className:"forecast-card-holder"},t.DailyForecasts.map((function(e,t){return r.a.createElement(te,{key:t,temp:e.Temperature,date:e.EpochDate,iconNumber:e.Day.Icon,isFahrenheit:n})}))))},me=a(172);a(125);var de=function(){var e=Object(h.b)(),t=Object(n.useState)(),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(h.c)((function(e){return e.favoritesReducer})),u=Object(h.c)((function(e){return e.currentLocationReducer})),s=Object(h.c)((function(e){return e.tempReducer.Fahrenheit}));return Object(n.useEffect)((function(){u.locationKey?z.getFiveDayForecast(u.locationKey).then((function(e){c(e)})):navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){console.log("latitude",t.coords.latitude,"longtitude",t.coords.longitude),z.getLocationKeyFromGeo(t.coords.latitude,t.coords.longitude).then((function(t){e(O.SET_LOCATION({locationKey:t.Key,location:t.LocalizedName}))})).catch((function(e){j()("error in geo location")}))})):z.getLocationKey("tel aviv").then((function(t){e(O.SET_LOCATION({locationKey:t.Key,location:t.LocalizedName}))})).catch((function(e){j()("error in getLocationKey")}))}),[u]),r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{maxWidth:"lg"},r.a.createElement(H,null),r.a.createElement(b.a,{elevation:10},o&&r.a.createElement(se,{fiveDayData:o,current:u,isFahrenheit:s,favorites:l}))))};var pe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(E,null),r.a.createElement(N.c,null,r.a.createElement(N.a,{exact:!0,path:"/"},r.a.createElement(de,null)),r.a.createElement(N.a,{exact:!0,path:"/favorites"},r.a.createElement(R,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=a(33),he=a(60),ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":return[].concat(Object(he.a)(e),[t.payload]);case"REMOVE_FAVORITE":return Object(he.a)(e.filter((function(e){return e.location!==t.payload.location})));default:return e}},ye=a(38),Ee={location:"",locationKey:""},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOCATION":return Object(ye.a)(Object(ye.a)({},e),{},{location:t.payload.location,locationKey:t.payload.locationKey});default:return e}},ge={Fahrenheit:!1},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_UNITS":return Object(ye.a)(Object(ye.a)({},e),{},{Fahrenheit:!e.Fahrenheit});default:return e}},Ne=Object(fe.b)({favoritesReducer:ve,currentLocationReducer:be,tempReducer:Oe}),xe=Object(fe.c)(Ne);c.a.render(r.a.createElement(h.a,{store:xe},r.a.createElement(r.a.StrictMode,null,r.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},79:function(e){e.exports=JSON.parse('{"a":[{"Version":1,"Key":"182536","Type":"City","Rank":10,"LocalizedName":"Athens","Country":{"ID":"GR","LocalizedName":"Greece"},"AdministrativeArea":{"ID":"I","LocalizedName":"Attica"}},{"Version":1,"Key":"316938","Type":"City","Rank":10,"LocalizedName":"Ankara","Country":{"ID":"TR","LocalizedName":"Turkey"},"AdministrativeArea":{"ID":"06","LocalizedName":"Ankara"}},{"Version":1,"Key":"126995","Type":"City","Rank":11,"LocalizedName":"Alexandria","Country":{"ID":"EG","LocalizedName":"Egypt"},"AdministrativeArea":{"ID":"ALX","LocalizedName":"Alexandria"}},{"Version":1,"Key":"56912","Type":"City","Rank":13,"LocalizedName":"Anqing","Country":{"ID":"CN","LocalizedName":"China"},"AdministrativeArea":{"ID":"AH","LocalizedName":"Anhui"}},{"Version":1,"Key":"59083","Type":"City","Rank":15,"LocalizedName":"Anyang","Country":{"ID":"CN","LocalizedName":"China"},"AdministrativeArea":{"ID":"HA","LocalizedName":"Henan"}},{"Version":1,"Key":"102138","Type":"City","Rank":15,"LocalizedName":"Anshan","Country":{"ID":"CN","LocalizedName":"China"},"AdministrativeArea":{"ID":"LN","LocalizedName":"Liaoning"}},{"Version":1,"Key":"202438","Type":"City","Rank":15,"LocalizedName":"Ahmedabad","Country":{"ID":"IN","LocalizedName":"India"},"AdministrativeArea":{"ID":"GJ","LocalizedName":"Gujarat"}},{"Version":1,"Key":"2093","Type":"City","Rank":20,"LocalizedName":"Algiers","Country":{"ID":"DZ","LocalizedName":"Algeria"},"AdministrativeArea":{"ID":"16","LocalizedName":"Alger"}},{"Version":1,"Key":"126831","Type":"City","Rank":20,"LocalizedName":"Addis Ababa","Country":{"ID":"ET","LocalizedName":"Ethiopia"},"AdministrativeArea":{"ID":"AA","LocalizedName":"Addis Ababa"}},{"Version":1,"Key":"178551","Type":"City","Rank":20,"LocalizedName":"Accra","Country":{"ID":"GH","LocalizedName":"Ghana"},"AdministrativeArea":{"ID":"AA","LocalizedName":"Greater Accra"}}]}')},92:function(e,t,a){e.exports=a(126)},97:function(e,t,a){},98:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.e6b2205a.chunk.js.map
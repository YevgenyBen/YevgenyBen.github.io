(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{122:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=(a(96),a(97),a(22)),l=a(160),u=a(163),s=a(165),m=a(166),f=a(35),p=a(167),h=a(175),d=a(15),v={SET_UNITS:function(e){return{type:"SET_UNITS"}}},y=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:"20px"},button:{margin:"10px",fontSize:"20px"},active:{borderBottom:"solid 2px black"}}}));function b(){var e=Object(d.b)(),t=y(),a=Object(n.useState)("C"),c=Object(i.a)(a,2),o=c[0],l=c[1],b=Object(n.useState)("/"===window.location.pathname?"HOME":"FAVORITES"),g=Object(i.a)(b,2),E=g[0],O=g[1],x=function(e){O(e.target.innerText)};return r.a.createElement(u.a,{className:t.root+" header"},r.a.createElement(s.a,{variant:"h6",className:t.title},"Weather App"),r.a.createElement("div",null,r.a.createElement(m.a,{onClick:x,className:("HOME"===E?t.active+" ":"")+t.button,color:"inherit",component:f.b,to:"/"},"Home"),r.a.createElement(m.a,{onClick:x,className:("FAVORITES"===E?t.active+" ":"")+t.button,color:"inherit",component:f.b,to:"favorites"},"Favorites")),r.a.createElement(h.a,{value:o,exclusive:!0,onChange:function(t,a){e(v.SET_UNITS()),l(a)},"aria-label":"text alignment"},r.a.createElement(p.a,{value:"C","aria-label":"left aligned",disabled:"C"===o},"\xb0C"),r.a.createElement(p.a,{value:"F","aria-label":"right aligned",disabled:"F"===o},"\xb0F")))}var g=a(168);var E=function(e){var t=e.iconNumber;return r.a.createElement("img",{src:"/icons/".concat(t,".png"),alt:"weather-icon"})},O={SET_LOCATION:function(e){return{type:"SET_LOCATION",payload:e}}},x=a(14),j=function(e){return 9*e/5+32},w=a(19),N=a.n(w),F=a(32),I=a(25),S=a.n(I),T=a(33),D=a.n(T),C="OIG4Syvq8J4CeUmUgRKmDuAdX7ngY5k4",k={getLocationKey:function(){var e=Object(F.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("http://dataservice.accuweather.com/locations/v1/cities/search?apikey="+C+"&q=".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data[0]);case 7:e.prev=7,e.t0=e.catch(0),S()("error on fetch location key,might you have used your fifty tries?");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getLocationWeather:function(){var e=Object(F.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/1day/"+t+"?apikey=".concat(C,"&metric=true"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),S()("error on fetch one day forcast,might you have used your fifty tries?");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getFiveDayForecast:function(){var e=Object(F.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/"+t+"?apikey=".concat(C,"&metric=true"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),S()("error on fetch five day forcast,might you have used your fifty tries?");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getLocationKeyFromGeo:function(){var e=Object(F.a)(N.a.mark((function e(t,a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey="+C+"&q=".concat(t,",").concat(a));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),S()("error on fetch key from geo,might you have used your fifty tries?");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},K=Object(l.a)((function(){return{size:{height:"200px",width:"200px",backgroundColor:"white",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"10px"},section:{marginBottom:"25px",fontSize:"1.5rem"}}})),L=function(e){var t=(parseInt(e.Maximum.Value)+parseInt(e.Minimum.Value))/2;return Math.round(100*(t+Number.EPSILON))/100};var R=function(e){var t=e.location,a=e.locationKey,c=e.isFahrenheit,o=Object(n.useState)(),l=Object(i.a)(o,2),u=l[0],s=l[1],m=Object(d.b)(),f=Object(x.f)();Object(n.useEffect)((function(){k.getLocationWeather(a).then((function(e){s(e)}))}),[a]);var p=K();return r.a.createElement(r.a.Fragment,null,u&&r.a.createElement(g.a,{className:p.size,onClick:function(){m(O.SET_LOCATION({locationKey:a,location:t})),f.push("/")}},r.a.createElement("div",{className:p.section},t),r.a.createElement("div",{className:p.section},r.a.createElement(E,{iconNumber:u&&u.DailyForecasts[0].Day.Icon})),r.a.createElement("div",null,u&&c?j(L(u.DailyForecasts[0].Temperature))+"\xb0F":L(u.DailyForecasts[0].Temperature)+"\xb0C")))},A=Object(l.a)((function(){return{container:{margin:"50px",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},subHeader:{display:"flex",justifyContent:"center",fontSize:"1.5rem"}}}));var z=function(){var e=A(),t=Object(d.c)((function(e){return e.favoritesReducer})),a=Object(d.c)((function(e){return e.tempReducer.Fahrenheit}));return r.a.createElement("div",null,r.a.createElement("div",{className:e.subHeader},"Click a city to go to a five day forecast"),r.a.createElement("div",{className:e.container},t.map((function(e,t){return r.a.createElement(R,{key:t,locationKey:e.locationKey,location:e.location,isFahrenheit:a})}))))},V=a(173),_=a(172),M=Object(l.a)((function(){return{root:{width:"100%",margin:"30px"},searchBar:{display:"flex",justifyContent:"center"},searchBox:{backgroundColor:"white",width:"400px"},button:{padding:"15px",marginLeft:"5px"}}}));function B(){var e=Object(d.b)(),t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(void 0),u=Object(i.a)(l,2),s=u[0],f=u[1],p=M();function h(){return(h=Object(F.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.target.value){e.next=13;break}return e.prev=1,e.next=4,D.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=OIG4Syvq8J4CeUmUgRKmDuAdX7ngY5k4"+"&q=".concat(t.target.value));case 4:a=e.sent,n=[],a.data.map((function(e){return n.push({locationKey:e.Key,location:e.LocalizedName})})),o(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),S()("error on auto complete");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return r.a.createElement("div",{className:p.root},r.a.createElement("div",{className:p.searchBar},r.a.createElement(V.a,{className:p.searchBox+" search-bar",id:"city-search",onInputChange:function(e){return h.apply(this,arguments)},onChange:function(e){"LI"===e.target.tagName&&f(e.target.innerText)},noOptionsText:"No result",options:c,onHighlightChange:function(e,t,a){t&&"keyboard"===a&&f(t.location)},popupIcon:null,getOptionSelected:function(e){return e},getOptionLabel:function(e){return e.location},renderInput:function(e){return r.a.createElement(_.a,Object.assign({},e,{label:"City Search",variant:"outlined"}))}}),r.a.createElement(m.a,{variant:"contained",color:"primary",className:p.button,onClick:function(){if(void 0!==s){var t=c.find((function(e){return e.location===s}));console.log("locationAndKey",t),t&&e(O.SET_LOCATION(t))}}},"Search")))}var U=a(82),W=a.n(U),H=a(81),q=a.n(H),P=a(170),G=a(174),J=a(53),Y=(a(121),{ADD_FAVORITE:function(e){return{type:"ADD_FAVORITE",payload:e}},REMOVE_FAVORITE:function(e){return{type:"REMOVE_FAVORITE",payload:e}}}),X=(a(122),Object(l.a)((function(){return{button:{height:"50px",width:"50px",margin:"10px",display:"flex",alignItems:"end",alignSelf:"auto"},icon:{width:"50px",height:"50px",color:"white"}}})));var $=function(e){var t=e.locationKey,a=e.location,c=e.isFavorite,o=Object(d.b)(),i=Object(n.useRef)(null),l=X();return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{size:"small",className:l.button+" fav",onClick:function(){o(c?Y.REMOVE_FAVORITE({locationKey:t,location:a}):Y.ADD_FAVORITE({locationKey:t,location:a})),c?Object(J.b)("".concat(a," removed from favorites")):Object(J.b)("".concat(a," added to favorites"))}},c?r.a.createElement(G.a,{nodeRef:i,classNames:"favorite-button",timeout:{enter:500,exit:300},in:c},r.a.createElement(q.a,{ref:i,className:l.icon})):r.a.createElement(G.a,{nodeRef:i,classNames:"favorite-button",timeout:{enter:500,exit:200},in:c},r.a.createElement(W.a,{ref:i,className:l.icon}))),r.a.createElement(J.a,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))},Q=Object(l.a)((function(){return{size:{height:"200px",width:"100%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},section:{marginBottom:"25px",fontSize:"1.5rem"}}})),Z=function(e){var t=(parseInt(e.Maximum.Value)+parseInt(e.Minimum.Value))/2;return Math.round(100*(t+Number.EPSILON))/100};var ee=function(e){var t=e.temp,a=e.date,n=e.iconNumber,c=e.isFahrenheit,o=Q();return r.a.createElement(g.a,{square:!0,className:o.size},r.a.createElement("div",{className:o.section},function(e){return new Date(1e3*e).toLocaleDateString("en-us",{weekday:"long"})}(a)),r.a.createElement("div",{className:o.section},r.a.createElement(E,{iconNumber:n})),r.a.createElement("div",null,c?j(Z(t))+"\xb0F":Z(t)+"\xb0C"))},te=Object(l.a)((function(){return{size:{height:"200px",width:"250px",fontSize:"150px"}}})),ae=function(e){var t=(parseInt(e.Maximum.Value)+parseInt(e.Minimum.Value))/2;return Math.round(100*(t+Number.EPSILON))/100};var ne=function(e){var t=e.temp,a=e.isFahrenheit,n=te();return r.a.createElement("div",{className:n.size+" forecast-temp"},a?j(ae(t))+"\xb0F":ae(t)+"\xb0C")},re=Object(l.a)((function(){return{size:{height:"200px",width:"250px",fontSize:"37px",display:"flex",flexDirection:"column"}}}));function ce(e){var t=e.date,a=re();return r.a.createElement("div",{className:a.size+" forecast-date"},r.a.createElement("div",null,function(e){return new Date(1e3*e).toLocaleDateString("en-us",{weekday:"long"})}(t)),r.a.createElement("div",null,function(e){var t=new Date(1e3*e);return t.getDate()+"/"+t.getMonth()+"/"+t.getFullYear()}(t)))}var oe=Object(l.a)((function(){return{size:{height:"200px",width:"350px",fontSize:"37px"}}}));function ie(e){var t=e.location,a=oe();return r.a.createElement("div",{className:a.size+" location"},t)}var le=Object(l.a)((function(){return{size:{height:"100px",minWidth:"100px",margin:"10px"},tempText:{fontSize:"50px"}}}));var ue=function(e){var t=e.fiveDayData,a=e.current,n=e.isFahrenheit,c=le(),o=Object(d.c)((function(e){return e.favoritesReducer}));return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:c.tempText+" icon"},t.DailyForecasts[0].Day.IconPhrase,r.a.createElement(E,{iconNumber:t.DailyForecasts[0].Day.Icon})),o.find((function(e){return e.location===a.location}))?r.a.createElement($,{locationKey:a.locationKey,location:a.location,isFavorite:!0}):r.a.createElement($,{locationKey:a.locationKey,location:a.location,isFavorite:!1}),r.a.createElement(ce,{date:t.DailyForecasts[0].EpochDate}),r.a.createElement(ne,{temp:t.DailyForecasts[0].Temperature,isFahrenheit:n}),r.a.createElement(ie,{location:a.location}),r.a.createElement("div",{className:"forecast-card-holder"},t.DailyForecasts.map((function(e,t){return r.a.createElement(ee,{key:t,temp:e.Temperature,date:e.EpochDate,iconNumber:e.Day.Icon,isFahrenheit:n})}))))},se=a(171);a(124);var me=function(){var e=Object(d.b)(),t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(d.c)((function(e){return e.favoritesReducer})),u=Object(d.c)((function(e){return e.currentLocationReducer})),s=Object(d.c)((function(e){return e.tempReducer.Fahrenheit}));return Object(n.useEffect)((function(){u.locationKey?k.getFiveDayForecast(u.locationKey).then((function(e){o(e)})):navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){k.getLocationKeyFromGeo(t.coords.latitude,t.coords.longitude).then((function(t){e(O.SET_LOCATION({locationKey:t.Key,location:t.LocalizedName}))})).catch((function(e){S()("error in geo location")}))})):k.getLocationKey("tel aviv").then((function(t){e(O.SET_LOCATION({locationKey:t.Key,location:t.LocalizedName}))})).catch((function(e){S()("error in getLocationKey")}))}),[u]),r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{maxWidth:"lg"},r.a.createElement(B,null),r.a.createElement(g.a,{elevation:10},c&&r.a.createElement(ue,{fiveDayData:c,current:u,isFahrenheit:s,favorites:l}))))};var fe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement(b,null),r.a.createElement(x.c,null,r.a.createElement(x.a,{exact:!0,path:"/"},r.a.createElement(me,null)),r.a.createElement(x.a,{exact:!0,path:"/favorites"},r.a.createElement(z,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=a(34),he=a(60),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":return[].concat(Object(he.a)(e),[t.payload]);case"REMOVE_FAVORITE":return Object(he.a)(e.filter((function(e){return e.location!==t.payload.location})));default:return e}},ve=a(39),ye={location:"",locationKey:""},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOCATION":return Object(ve.a)(Object(ve.a)({},e),{},{location:t.payload.location,locationKey:t.payload.locationKey});default:return e}},ge={Fahrenheit:!1},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_UNITS":return Object(ve.a)(Object(ve.a)({},e),{},{Fahrenheit:!e.Fahrenheit});default:return e}},Oe=Object(pe.b)({favoritesReducer:de,currentLocationReducer:be,tempReducer:Ee}),xe=Object(pe.c)(Oe);o.a.render(r.a.createElement(d.a,{store:xe},r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){e.exports=a(125)},96:function(e,t,a){},97:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.4f18a93b.chunk.js.map